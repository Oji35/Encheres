<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liste des Enchères</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
  <div class="entete-gauche">
  <a data-th-href="accueil-encheres">
    <div><img th:src="@{/images/logo_ENI.png}" alt="image redirection accueil"></div>
      </a>
      <li>
        <button onclick="window.location.reload();">Raffraichir la page</button>
      </li>
      <li>
        <button onclick="history.back();">Retour</button>
      </li>
    </div>
    <div class="entete-connexion">
      <li>
        <button>Enchères</button>
      </li>
      <li>
        <button>Vendre un article</button>
      </li>
      <li>
        <button>Mon profil</button>
      </li>
      <li>
        <button>Déconnexion</button>
      </li>
    </div>
</header>
<div class="container">
  <h1>Liste des Enchères</h1>
  <form method="get" action="/articles">
    <div class="filters">
      <input type="text" name="keyword" placeholder="Le nom de l'article contient" th:value="${keyword}">
      <select name="category">
        <option value="Toutes" th:selected="${category == null || category == 'Toutes'}">Toutes</option>
        <option value="Informatique" th:selected="${category == 'Informatique'}">Informatique</option>
        <option value="Ameublement" th:selected="${category == 'Ameublement'}">Ameublement</option>
        <option value="Vêtement" th:selected="${category == 'Vêtement'}">Vêtement</option>
        <option value="Sport&Loisirs" th:selected="${category == 'Sport&Loisirs'}">Sport & Loisirs</option>
      </select>
      <div th:if="${isAuthenticated}">
        <fieldset>
          <legend>Achats</legend>
          <input type="checkbox" name="filter" value="encheres_ouvertes" th:checked="${filter == 'encheres_ouvertes'}"> enchères ouvertes<br>
          <input type="checkbox" name="filter" value="mes_encheres_en_cours" th:checked="${filter == 'mes_encheres_en_cours'}"> mes enchères en cours<br>
          <input type="checkbox" name="filter" value="mes_encheres_remportees" th:checked="${filter == 'mes_encheres_remportees'}"> mes enchères remportées<br>
        </fieldset>
        <fieldset>
          <legend>Mes ventes</legend>
          <input type="checkbox" name="filter" value="mes_ventes_en_cours" th:checked="${filter == 'mes_ventes_en_cours'}"> mes ventes en cours<br>
          <input type="checkbox" name="filter" value="ventes_non_debutees" th:checked="${filter == 'ventes_non_debutees'}"> ventes non débutées<br>
          <input type="checkbox" name="filter" value="ventes_terminees" th:checked="${filter == 'ventes_terminees'}"> ventes terminées<br>
        </fieldset>
      </div>
      <input type="submit" value="Rechercher">
    </div>
  </form>
  <div class="article-list">
    <div th:each="article : ${articles}" class="article-item">
      <img th:src="@{${article.imageUrl}}" th:alt="${article.title}">
      <h2 th:text="${article.title}"></h2>
      <p>Prix : <span th:text="${article.price}"></span> points</p>
      <p>Fin de l'enchère : <span th:text="${article.endDate}"></span></p>
      <p>Vendeur : <span th:text="${article.seller}"></span></p>
    </div>
  </div>
</div>
</body>
</html>
